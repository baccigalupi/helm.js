{"version":3,"sources":["helm-0.7.0-modern-deps.min.js"],"names":["Zepto","type","obj","String","class2type","toString","call","isFunction","value","isWindow","window","isDocument","nodeType","DOCUMENT_NODE","isObject","isPlainObject","Object","getPrototypeOf","prototype","likeArray","length","compact","array","filter","item","flatten","$","fn","concat","apply","dasherize","str","replace","toLowerCase","classRE","name","classCache","RegExp","maybeAddPx","cssNumber","defaultDisplay","nodeName","element","display","elementDisplay","document","createElement","body","appendChild","getComputedStyle","getPropertyValue","parentNode","removeChild","children","slice","map","childNodes","node","Z","dom","selector","i","len","this","extend","target","source","deep","key","isArray","undefined","filtered","nodes","funcArg","context","arg","idx","payload","setAttribute","removeAttribute","className","klass","svg","baseVal","deserializeValue","test","parseJSON","e","traverseNode","fun","classList","camelize","uniq","emptyArray","column-count","columns","font-weight","line-height","opacity","z-index","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","table","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","readyRE","simpleSelectorRE","zepto","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","Array","object","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","match","parent","temp","qsa","indexOf","chr","toUpperCase","fragment","html","properties","container","$1","innerHTML","each","attr","isZ","init","trim","find","ready","args","arguments","shift","forEach","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","contains","documentElement","isEmptyObject","inArray","elem","camelCase","uuid","support","expr","noop","elements","callback","values","push","grep","JSON","parse","split","constructor","reduce","sort","splice","toArray","el","readyState","addEventListener","get","size","remove","every","not","add","is","excludes","has","eq","first","last","result","$this","some","closest","collection","parents","ancestors","pluck","contents","contentDocument","siblings","child","empty","property","show","style","replaceWith","newContent","before","wrap","structure","func","clone","index","wrapAll","cloneNode","append","wrapInner","self","unwrap","hide","css","toggle","setting","prev","next","originHtml","text","newText","textContent","getAttribute","removeAttr","attribute","prop","data","attrName","val","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","props","top","left","getBoundingClientRect","pageXOffset","pageYOffset","width","Math","round","height","computedStyle","_","removeProperty","cssText","hasClass","addClass","cls","newName","join","removeClass","toggleClass","when","names","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","position","parseFloat","detach","dimension","dimensionProperty","m","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","zid","_zid","findHandlers","event","ns","matcher","matcherFor","handlers","handler","sel","parts","eventCapture","captureSetting","del","focusinSupported","focus","realEvent","hover","events","delegator","capture","id","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","preventDefault","stopPropagation","removeEventListener","isDefaultPrevented","eventMethods","predicate","sourceMethod","returnTrue","returnFalse","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","ignoreProperties","isString","specialEvents","blur","mouseenter","mouseleave","click","mousedown","mouseup","mousemove","proxyFn","unshift","TypeError","bind","on","unbind","off","one","stopImmediatePropagation","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","trigger","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","getData","exp","store","setData","camelName","dataAttr","attributeData","attributes","expando","Date","removeData","methodName","origFn","triggerAndReturn","eventName","triggerGlobal","settings","global","ajaxStart","active","ajaxStop","ajaxBeforeSend","xhr","beforeSend","ajaxSuccess","deferred","status","success","resolveWith","ajaxComplete","ajaxError","error","rejectWith","complete","mimeToDataType","mime","htmlType","jsonType","scriptTypeRE","xmlTypeRE","appendQuery","url","query","serializeData","options","processData","param","traditional","parseArguments","dataType","serialize","params","scope","hash","jsonpID","rscript","blankRE","originAnchor","href","location","ajaxJSONP","ajax","responseData","abortTimeout","_callbackName","jsonpCallback","callbackName","script","originalCallback","abort","errorType","promise","clearTimeout","head","timeout","setTimeout","ajaxSettings","XMLHttpRequest","accepts","json","xml","crossDomain","cache","urlAnchor","hashIndex","Deferred","protocol","host","hasPlaceholder","now","jsonp","headers","setHeader","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","contentType","onreadystatechange","getResponseHeader","responseText","eval","responseXML","statusText","xhrFields","async","open","username","password","send","post","getJSON","load","response","escape","encodeURIComponent","serializeArray","field","disabled","checked","elm","submit","nativeGetComputedStyle","detect","ua","platform","os","browser","webkit","android","osx","ipad","ipod","iphone","webos","win","wp","touchpad","kindle","silk","blackberry","bb10","rimtabletos","playbook","chrome","firefox","firefoxos","ie","webview","safari","version","ios","tablet","phone","navigator","userAgent","__detect","normalizeEvent","eventPrefix","transform","transitionProperty","transitionDuration","transitionTiming","transitionDelay","animationName","animationDuration","animationTiming","animationDelay","prefix","vendors","Webkit","Moz","O","testEl","supportedTransforms","cssReset","vendor","fx","speeds","_default","fast","slow","cssPrefix","transitionEnd","animationEnd","animate","duration","ease","delay","easing","anim","cssProperties","wrappedCallback","cssValues","transforms","that","endEvent","fired","clientLeft","speed","scale","origHide","origShow","origToggle","fadeTo","fadeIn","fadeOut","fadeToggle","tagName","tuples","Callbacks","once","memory","state","always","done","fail","then","fns","defer","tuple","returned","resolve","reject","progress","notify","list","stateString","disable","lock","fireWith","sub","progressValues","progressContexts","resolveContexts","resolveValues","remain","updateFn","ctx","notifyWith","firing","firingStart","firingLength","firingIndex","stack","fire","stopOnFalse","start","unique","locked","visible","process","filterRe","exec","filters","num","Number","isNaN","oldQsa","oldMatches","hidden","childRe","classTag","taggedParent","console","n","swipeDirection","x1","x2","y1","y2","abs","longTap","longTapTimeout","touch","cancelLongTap","cancelAll","touchTimeout","tapTimeout","swipeTimeout","isPrimaryTouch","pointerType","MSPOINTER_TYPE_TOUCH","isPrimary","isPointerEventType","gesture","longTapDelay","delta","firstTouch","_isPointerType","deltaX","deltaY","MSGesture","swipeDirectionFromVelocity","velocityX","velocityY","touches","pageX","pageY","isDoubleTap","addPointer","pointerId","cancelTouch","parentIfText","gestureTimeout","e1","e2","end","prevObject","andSelf","ret","accumulator","t","k","createReduce","dir","iterator","iteratee","memo","keys","currentKey","optimizeCb","isArrayLike","createPredicateIndexFinder","cb","getLength","createIndexFinder","predicateFind","sortedIndex","max","min","collectNonEnumProps","nonEnumIdx","nonEnumerableProps","proto","ObjProto","root","previousUnderscore","ArrayProto","FuncProto","Function","hasOwnProperty","nativeIsArray","nativeKeys","nativeBind","nativeCreate","create","Ctor","_wrapped","exports","module","VERSION","argCount","other","identity","Infinity","createAssigner","keysFunc","undefinedOnly","l","baseCreate","MAX_ARRAY_INDEX","pow","collect","results","foldl","inject","reduceRight","foldr","findIndex","findKey","select","negate","all","any","includes","include","fromIndex","guard","invoke","method","isFunc","where","attrs","findWhere","computed","lastComputed","shuffle","rand","shuffled","random","sample","sortBy","criteria","right","a","b","group","behavior","groupBy","indexBy","countBy","partition","pass","take","initial","rest","tail","drop","input","shallow","strict","startIndex","output","isArguments","j","without","difference","isSorted","isBoolean","seen","union","intersection","argsLength","zip","unzip","findLastIndex","low","high","mid","floor","lastIndexOf","range","stop","step","ceil","executeBound","sourceFunc","boundFunc","callingContext","bound","partial","boundArgs","bindAll","Error","memoize","hasher","address","wait","throttle","previous","later","leading","remaining","trailing","debounce","immediate","timestamp","callNow","wrapper","compose","after","times","hasEnumBug","propertyIsEnumerable","allKeys","mapObject","pairs","invert","functions","methods","extendOwn","assign","pick","oiteratee","omit","defaults","tap","interceptor","isMatch","aStack","bStack","areArrays","aCtor","bCtor","pop","isEqual","isEmpty","isElement","Int8Array","isFinite","isNumber","isNull","isUndefined","noConflict","constant","propertyOf","accum","getTime","escapeMap","&","<",">","\"","'","`","unescapeMap","createEscaper","escaper","testRegexp","replaceRegexp","string","unescape","fallback","idCounter","uniqueId","templateSettings","evaluate","interpolate","noMatch","escapes","\\","\r","\n"," "," ","escapeChar","template","oldSettings","variable","render","argument","chain","instance","_chain","mixin","valueOf","toJSON","define","amd","factory","Backbone","require","jQuery","ender","previousBackbone","emulateHTTP","emulateJSON","addMethod","defaultVal","addUnderscoreMethods","Class","_isModel","modelMatcher","model","Events","eventSplitter","eventsApi","opts","internalOn","listening","_events","onApi","listeners","_listeners","listenTo","_listenId","listeningTo","_listeningTo","thisId","objId","count","offApi","stopListening","ids","_callback","onceMap","listenToOnce","offer","triggerApi","objEvents","allEvents","triggerEvents","ev","a1","a2","a3","Model","cid","cidPrefix","changed","initialize","validationError","idAttribute","sync","_validate","unset","silent","changes","changing","_changing","_previousAttributes","current","_pending","clear","hasChanged","changedAttributes","diff","old","previousAttributes","fetch","resp","serverAttrs","wrapError","save","validate","isNew","patch","destroy","base","urlError","isValid","modelMethods","Collection","models","comparator","_reset","reset","setOptions","merge","addOptions","insert","at","singular","removed","_removeModels","toAdd","toRemove","modelMap","sortable","sortAttr","existing","_prepareModel","_addReference","orderChanged","_removeReference","previousModels","modelId","_byId","callbackOpts","_onModelEvent","prevId","collectionMethods","View","viewOptions","_ensureElement","delegateEventSplitter","$el","_removeElement","setElement","undelegateEvents","_setElement","delegateEvents","listener","_createElement","_setAttributes","methodMap","stringify","_method","textStatus","errorThrown","update","delete","read","Router","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","route","isRegExp","_routeToRegExp","router","history","_extractParameters","execute","navigate","optional","decodeURIComponent","History","checkUrl","routeStripper","rootStripper","pathStripper","started","interval","atRoot","path","pathname","getSearch","matchRoot","decodeFragment","decodeURI","getHash","getPath","charAt","getFragment","_usePushState","_wantsHashChange","hashChange","_hasHashChange","documentMode","_useHashChange","_wantsPushState","pushState","_hasPushState","iframe","tabIndex","iWindow","contentWindow","close","attachEvent","_checkUrlInterval","setInterval","loadUrl","detachEvent","clearInterval","title","_updateHash","protoProps","staticProps","Surrogate","__super__","Hogan","findInScope","doModelGet","createSpecializedPartial","subs","partials","stackSubs","stackPartials","stackText","PartialTemplate","Substitutions","subsText","buf","coerceToString","hoganEscape","hChars","rAmp","rLt","rGt","rApos","rQuot","Template","codeObj","compiler","r","code","c","indent","v","ri","ep","symbol","compile","activeSub","rp","rs","section","s","inverted","tags","ms","d","returnFound","f","modelGet","cx","mv","ls","oldTags","delimiters","ct","disableLambda","fl","textSource","substring","cleanTripleStache","token","substr","tagChange","tag","buildTree","tokens","kind","customTags","instructions","opener","allowedInSuper","isOpener","isCloser","o","stringifySubstitutions","items","esc","stringifyPartials","rSlash","rNewline","rCr","rLineSep","rParagraphSep","chooseMethod","createPartial","sym","serialNo","tripleStache","write","rIsWhitespace","#","^","/","!","=","_v","{","_t","scan","addBuf","lineIsWhitespace","isAllWhitespace","lineStart","filterLine","haveSeenTag","noNewLine","seenTag","changeDelimiters","ctag","closeIndex","otag","IN_TEXT","IN_TAG_TYPE","IN_TAG","tagType","wrapMain","generate","tree","walk","asString","makeTemplate","makePartials","codegen","inPartial","nodelist","sectionTags","cacheKey"],"mappings":"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","file":"helm-0.7.0-modern-deps.min.js","sourcesContent":["/* Zepto v1.1.4-86-g0616279 - zepto event data ajax form ie detect fx fx_methods assets deferred callbacks selector touch gesture stack ios3 - zeptojs.com/license */\n\nvar Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [],\n    concat = emptyArray.concat,\n    filter = emptyArray.filter,\n    slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {},\n    classCache = {},\n    cssNumber = {\n      'column-count': 1,\n      'columns': 1,\n      'font-weight': 1,\n      'line-height': 1,\n      'opacity': 1,\n      'z-index': 1,\n      'zoom': 1\n    },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = ['after', 'prepend', 'before', 'append'],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table,\n      'thead': table,\n      'tfoot': table,\n      'td': tableRow,\n      'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n    function(object) {\n      return object instanceof Array\n    }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.webkitMatchesSelector || element.mozMatchesSelector ||\n      element.oMatchesSelector || element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n      // fall back to performing a selector:\n    var match, parent = element.parentNode,\n      temp = !parent\n    if (temp)(parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) {\n    return type(value) == \"function\"\n  }\n\n  function isWindow(obj) {\n    return obj != null && obj == obj.window\n  }\n\n  function isDocument(obj) {\n    return obj != null && obj.nodeType == obj.DOCUMENT_NODE\n  }\n\n  function isObject(obj) {\n    return type(obj) == \"object\"\n  }\n\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    return typeof obj.length == 'number'\n  }\n\n  function compact(array) {\n    return filter.call(array, function(item) {\n      return item != null\n    })\n  }\n\n  function flatten(array) {\n    return array.length > 0 ? $.fn.concat.apply([], array) : array\n  }\n  camelize = function(str) {\n    return str.replace(/-+(.)?/g, function(match, chr) {\n      return chr ? chr.toUpperCase() : ''\n    })\n  }\n\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n      .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n      .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n      .replace(/_/g, '-')\n      .toLowerCase()\n  }\n  uniq = function(array) {\n    return filter.call(array, function(item, idx) {\n      return array.indexOf(item) == idx\n    })\n  }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node) {\n        if (node.nodeType == 1) return node\n      })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overriden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function() {\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overriden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overriden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overriden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n      // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n      // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n        // If it's a html fragment, create nodes from it\n        // Note: In both Chrome 21 and Firefox 15, DOM error 12\n        // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n        // If there's a context, create a collection on that context first, and select\n        // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n        // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n      // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n        // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n        // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n        // If there's a context, create a collection on that context first, and select\n        // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n        // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context) {\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      } else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target) {\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg) {\n      extend(target, arg, deep)\n    })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overriden in plugins.\n  zepto.qsa = function(element, selector) {\n    var found,\n      maybeID = selector[0] == '#',\n      maybeClass = !maybeID && selector[0] == '.',\n      nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n      isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ((found = element.getElementById(nameOnly)) ? [found] : []) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n        maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n        element.getElementsByTagName(selector) : // Or a tag\n        element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value) {\n    var klass = node.className || '',\n      svg = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        (value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value) : value\n    } catch (e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.inArray = function(elem, array, i) {\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = {}\n  $.expr = {}\n  $.noop = function() {}\n\n  $.map = function(elements, callback) {\n    var value, values = [],\n      i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback) {\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback) {\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function() {\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn) {\n      return $($.map(this, function(el, i) {\n        return fn.call(el, i, el)\n      }))\n    },\n    slice: function() {\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback) {\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function() {\n        callback($)\n      }, false)\n      return this\n    },\n    get: function(idx) {\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function() {\n      return this.get()\n    },\n    size: function() {\n      return this.length\n    },\n    remove: function() {\n      return this.each(function() {\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback) {\n      emptyArray.every.call(this, function(el, idx) {\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector) {\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element) {\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector, context) {\n      return $(uniq(this.concat($(selector, context))))\n    },\n    is: function(selector) {\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector) {\n      var nodes = []\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx) {\n          if (!selector.call(this, idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el) {\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector) {\n      return this.filter(function() {\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx) {\n      return idx === -1 ? this.slice(idx) : this.slice(idx, +idx + 1)\n    },\n    first: function() {\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function() {\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector) {\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function() {\n          var node = this\n          return emptyArray.some.call($this, function(parent) {\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function() {\n        return zepto.qsa(this, selector)\n      })\n      return result\n    },\n    closest: function(selector, context) {\n      var node = this[0],\n        collection = false\n      if (typeof selector == 'object') collection = $(selector)\n      while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n        node = node !== context && !isDocument(node) && node.parentNode\n      return $(node)\n    },\n    parents: function(selector) {\n      var ancestors = [],\n        nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node) {\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector) {\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector) {\n      return filtered(this.map(function() {\n        return children(this)\n      }), selector)\n    },\n    contents: function() {\n      return this.map(function() {\n        return this.contentDocument || slice.call(this.childNodes)\n      })\n    },\n    siblings: function(selector) {\n      return filtered(this.map(function(i, el) {\n        return filter.call(children(el.parentNode), function(child) {\n          return child !== el\n        })\n      }), selector)\n    },\n    empty: function() {\n      return this.each(function() {\n        this.innerHTML = ''\n      })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property) {\n      return $.map(this, function(el) {\n        return el[property]\n      })\n    },\n    show: function() {\n      return this.each(function() {\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent) {\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure) {\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom = $(structure).get(0),\n          clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index) {\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n          clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure) {\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n          // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure) {\n      var func = isFunction(structure)\n      return this.each(function(index) {\n        var self = $(this),\n          contents = self.contents(),\n          dom = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function() {\n      this.parent().each(function() {\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function() {\n      return this.map(function() {\n        return this.cloneNode(true)\n      })\n    },\n    hide: function() {\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting) {\n      return this.each(function() {\n        var el = $(this);\n        (setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show(): el.hide()\n      })\n    },\n    prev: function(selector) {\n      return $(this.pluck('previousElementSibling')).filter(selector || '*')\n    },\n    next: function(selector) {\n      return $(this.pluck('nextElementSibling')).filter(selector || '*')\n    },\n    html: function(html) {\n      return 0 in arguments ?\n        this.each(function(idx) {\n          var originHtml = this.innerHTML\n          $(this).empty().append(funcArg(this, html, idx, originHtml))\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text) {\n      return 0 in arguments ?\n        this.each(function(idx) {\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : '' + newText\n        }) :\n        (0 in this ? this[0].textContent : null)\n    },\n    attr: function(name, value) {\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (!this.length || this[0].nodeType !== 1 ? undefined :\n          (!(result = this[0].getAttribute(name)) && name in this[0]) ? this[0][name] : result\n        ) :\n        this.each(function(idx) {\n          if (this.nodeType !== 1) return\n          if (isObject(name))\n            for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name) {\n      return this.each(function() {\n        this.nodeType === 1 && name.split(' ').forEach(function(attribute) {\n          setAttribute(this, attribute)\n        }, this)\n      })\n    },\n    prop: function(name, value) {\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx) {\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    data: function(name, value) {\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value) {\n      return 0 in arguments ?\n        this.each(function(idx) {\n          this.value = funcArg(this, value, idx, this.value)\n        }) :\n        (this[0] && (this[0].multiple ?\n          $(this[0]).find('option').filter(function() {\n            return this.selected\n          }).pluck('value') :\n          this[0].value))\n    },\n    offset: function(coordinates) {\n      if (coordinates) return this.each(function(index) {\n        var $this = $(this),\n          coords = funcArg(this, coordinates, index, $this.offset()),\n          parentOffset = $this.offsetParent().offset(),\n          props = {\n            top: coords.top - parentOffset.top,\n            left: coords.left - parentOffset.left\n          }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (!$.contains(document.documentElement, this[0]))\n        return {\n          top: 0,\n          left: 0\n        }\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value) {\n      if (arguments.length < 2) {\n        var computedStyle, element = this[0]\n        if (!element) return\n        computedStyle = getComputedStyle(element, '')\n        if (typeof property == 'string')\n          return element.style[camelize(property)] || computedStyle.getPropertyValue(property)\n        else if (isArray(property)) {\n          var props = {}\n          $.each(property, function(_, prop) {\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function() {\n            this.style.removeProperty(dasherize(property))\n          })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function() {\n              this.style.removeProperty(dasherize(key))\n            })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function() {\n        this.style.cssText += ';' + css\n      })\n    },\n    index: function(element) {\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name) {\n      if (!name) return false\n      return emptyArray.some.call(this, function(el) {\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name) {\n      if (!name) return this\n      return this.each(function(idx) {\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this),\n          newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass) {\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name) {\n      return this.each(function(idx) {\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass) {\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when) {\n      if (!name) return this\n      return this.each(function(idx) {\n        var $this = $(this),\n          names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass) {\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n          $this.addClass(klass): $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value) {\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function() {\n          this.scrollTop = value\n        } :\n        function() {\n          this.scrollTo(this.scrollX, value)\n        })\n    },\n    scrollLeft: function(value) {\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function() {\n          this.scrollLeft = value\n        } :\n        function() {\n          this.scrollTo(value, this.scrollY)\n        })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? {\n          top: 0,\n          left: 0\n        } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top -= parseFloat($(elem).css('margin-top')) || 0\n      offset.left -= parseFloat($(elem).css('margin-left')) || 0\n\n      // Add offsetParent borders\n      parentOffset.top += parseFloat($(offsetParent[0]).css('border-top-width')) || 0\n      parentOffset.left += parseFloat($(offsetParent[0]).css('border-left-width')) || 0\n\n      // Subtract the two offsets\n      return {\n        top: offset.top - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function() {\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;\n  ['width', 'height'].forEach(function(dimension) {\n    var dimensionProperty =\n      dimension.replace(/./, function(m) {\n        return m[0].toUpperCase()\n      })\n\n    $.fn[dimension] = function(value) {\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx) {\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function() {\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n          argType = type(arg)\n          return argType == \"object\" || argType == \"array\" || arg == null ?\n            arg : zepto.fragment(arg)\n        }),\n        parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target) {\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n          operatorIndex == 1 ? target.firstChild :\n          operatorIndex == 2 ? target :\n          null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node) {\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el) {\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n              (!el.type || el.type === 'text/javascript') && !el.src)\n              window['eval'].call(window, el.innerHTML)\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator + 'To' : 'insert' + (operatorIndex ? 'Before' : 'After')] = function(html) {\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n;\n(function($) {\n  var _zid = 1,\n    undefined,\n    slice = Array.prototype.slice,\n    isFunction = $.isFunction,\n    isString = function(obj) {\n      return typeof obj == 'string'\n    },\n    handlers = {},\n    specialEvents = {},\n    focusinSupported = 'onfocusin' in window,\n    focus = {\n      focus: 'focusin',\n      blur: 'focusout'\n    },\n    hover = {\n      mouseenter: 'mouseover',\n      mouseleave: 'mouseout'\n    }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler && (!event.e || handler.e == event.e) && (!event.ns || matcher.test(handler.ns)) && (!fn || zid(handler.fn) === zid(fn)) && (!selector || handler.sel == selector)\n    })\n  }\n\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {\n      e: parts[0],\n      ns: parts.slice(1).sort().join(' ')\n    }\n  }\n\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture) {\n    var id = zid(element),\n      set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event) {\n      if (event == 'ready') return $(document).ready(fn)\n      var handler = parse(event)\n      handler.fn = fn\n      handler.sel = selector\n        // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e) {\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del = delegator\n      var callback = delegator || fn\n      handler.proxy = function(e) {\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n\n  function remove(element, events, fn, selector, capture) {\n    var id = zid(element);\n    (events || '').split(/\\s/).forEach(function(event) {\n      findHandlers(element, event, fn, selector).forEach(function(handler) {\n        delete handlers[id][handler.i]\n        if ('removeEventListener' in element)\n          element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = {\n    add: add,\n    remove: remove\n  }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function() {\n        return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments)\n      }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback) {\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback) {\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback) {\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function() {\n      return true\n    },\n    returnFalse = function() {\n      return false\n    },\n    ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$)/,\n    eventMethods = {\n      preventDefault: 'isDefaultPrevented',\n      stopImmediatePropagation: 'isImmediatePropagationStopped',\n      stopPropagation: 'isPropagationStopped'\n    }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function() {\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n        'returnValue' in source ? source.returnValue === false :\n        source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = {\n      originalEvent: event\n    }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback) {\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback) {\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback) {\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback) {\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one) {\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn) {\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element) {\n      if (one) autoRemove = function(e) {\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e) {\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {\n            currentTarget: match,\n            liveFired: element\n          })\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback) {\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn) {\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function() {\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args) {\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function() {\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n        // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args) {\n    var e, result\n    this.each(function(i, element) {\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler) {\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;\n  ('focusin focusout focus blur load resize scroll unload click dblclick ' +\n    'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' +\n    'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'),\n      bubbles = true\n    if (props)\n      for (var name in props)(name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;\n(function($) {\n  var data = {},\n    dataAttr = $.fn.data,\n    camelize = $.camelCase,\n    exp = $.expando = 'Zepto' + (+new Date()),\n    emptyArray = []\n\n  // Get value from node:\n  // 1. first try key as given,\n  // 2. then try camelized key,\n  // 3. fall back to reading \"data-*\" attribute.\n  function getData(node, name) {\n    var id = node[exp],\n      store = id && data[id]\n    if (name === undefined) return store || setData(node)\n    else {\n      if (store) {\n        if (name in store) return store[name]\n        var camelName = camelize(name)\n        if (camelName in store) return store[camelName]\n      }\n      return dataAttr.call($(node), name)\n    }\n  }\n\n  // Store value under camelized key on node\n  function setData(node, name, value) {\n    var id = node[exp] || (node[exp] = ++$.uuid),\n      store = data[id] || (data[id] = attributeData(node))\n    if (name !== undefined) store[camelize(name)] = value\n    return store\n  }\n\n  // Read all \"data-*\" attributes from a node\n  function attributeData(node) {\n    var store = {}\n    $.each(node.attributes || emptyArray, function(i, attr) {\n      if (attr.name.indexOf('data-') == 0)\n        store[camelize(attr.name.replace('data-', ''))] =\n        $.zepto.deserializeValue(attr.value)\n    })\n    return store\n  }\n\n  $.fn.data = function(name, value) {\n    return value === undefined ?\n      // set multiple values via object\n      $.isPlainObject(name) ?\n      this.each(function(i, node) {\n        $.each(name, function(key, value) {\n          setData(node, key, value)\n        })\n      }) :\n      // get value from first element\n      (0 in this ? getData(this[0], name) : undefined) :\n      // set value on all elements\n      this.each(function() {\n        setData(this, name, value)\n      })\n  }\n\n  $.fn.removeData = function(names) {\n    if (typeof names == 'string') names = names.split(/\\s+/)\n    return this.each(function() {\n      var id = this[exp],\n        store = id && data[id]\n      if (store) $.each(names || store, function(key) {\n        delete store[names ? camelize(this) : key]\n      })\n    })\n  }\n\n  // Generate extended `remove` and `empty` functions\n  ;\n  ['remove', 'empty'].forEach(function(methodName) {\n    var origFn = $.fn[methodName]\n    $.fn[methodName] = function() {\n      var elements = this.find('*')\n      if (methodName === 'remove') elements = elements.add(this)\n      elements.removeData()\n      return origFn.call(this)\n    }\n  })\n})(Zepto)\n\n;\n(function($) {\n  var jsonpID = 0,\n    document = window.document,\n    key,\n    name,\n    rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n    scriptTypeRE = /^(?:text|application)\\/javascript/i,\n    xmlTypeRE = /^(?:text|application)\\/xml/i,\n    jsonType = 'application/json',\n    htmlType = 'text/html',\n    blankRE = /^\\s*$/,\n    originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n      triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context,\n      status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred) {\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('jsonp' + (++jsonpID)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = {\n        abort: abort\n      },\n      abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType) {\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function() {\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function() {\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function() {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json: jsonType,\n      xml: 'application/xml, text/xml',\n      html: htmlType,\n      text: 'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && (mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml') || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET'))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options) {\n    var settings = $.extend({}, options || {}),\n      deferred = $.Deferred && $.Deferred(),\n      urlAnchor, hashIndex\n    for (key in $.ajaxSettings)\n      if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n        // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex)\n    serializeData(settings)\n\n    var dataType = settings.dataType,\n      hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n        (!options || options.cache !== true) &&\n        ('script' == dataType || 'jsonp' == dataType)\n      ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n      headers = {},\n      setHeader = function(name, value) {\n        headers[name.toLowerCase()] = [name, value]\n      },\n      protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n      xhr = settings.xhr(),\n      nativeSetHeader = xhr.setRequestHeader,\n      abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers)\n      for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n          result = xhr.responseText\n\n          try {\n            // http://perfectionkills.com/global-eval-what-are-the-options/\n            if (dataType == 'script')(1, eval)(result)\n            else if (dataType == 'xml') result = xhr.responseXML\n            else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n          } catch (e) {\n            error = e\n          }\n\n          if (error) ajaxError(error, 'parsererror', xhr, settings, deferred)\n          else ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    if (settings.xhrFields)\n      for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function() {\n      xhr.onreadystatechange = empty\n      xhr.abort()\n      ajaxError(null, 'timeout', xhr, settings, deferred)\n    }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url,\n      data: data,\n      success: success,\n      dataType: dataType\n    }\n  }\n\n  $.get = function( /* url, data, success, dataType */ ) {\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function( /* url, data, success, dataType */ ) {\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function( /* url, data, success */ ) {\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success) {\n    if (!this.length) return this\n    var self = this,\n      parts = url.split(/\\s/),\n      selector,\n      options = parseArguments(url, data, success),\n      callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response) {\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector) : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope) {\n    var type, array = $.isArray(obj),\n      hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n        // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n        // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional) {\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;\n(function($) {\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({\n          name: name,\n          value: value\n        })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field) {\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n        add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function() {\n    var result = []\n    this.serializeArray().forEach(function(elm) {\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;\n(function() {\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch (e) {\n    var nativeGetComputedStyle = getComputedStyle;\n    window.getComputedStyle = function(element) {\n      try {\n        return nativeGetComputedStyle(element)\n      } catch (e) {\n        return null\n      }\n    }\n  }\n})()\n\n;\n(function($) {\n  function detect(ua, platform) {\n    var os = this.os = {},\n      browser = this.browser = {},\n      webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/),\n      android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/),\n      osx = !!ua.match(/\\(Macintosh\\; Intel /),\n      ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/),\n      ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/),\n      iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/),\n      webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/),\n      win = /Win\\d{2}|Windows/.test(platform),\n      wp = ua.match(/Windows Phone ([\\d.]+)/),\n      touchpad = webos && ua.match(/TouchPad/),\n      kindle = ua.match(/Kindle\\/([\\d.]+)/),\n      silk = ua.match(/Silk\\/([\\d._]+)/),\n      blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/),\n      bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/),\n      rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/),\n      playbook = ua.match(/PlayBook/),\n      chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/),\n      firefox = ua.match(/Firefox\\/([\\d.]+)/),\n      firefoxos = ua.match(/\\((?:Mobile|Tablet); rv:([\\d.]+)\\).*Firefox\\/[\\d.]+/),\n      ie = ua.match(/MSIE\\s([\\d.]+)/) || ua.match(/Trident\\/[\\d](?=[^\\?]+).*rv:([0-9.].)/),\n      webview = !chrome && ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),\n      safari = webview || ua.match(/Version\\/([\\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/)\n\n    // Todo: clean this up with a better OS/browser seperation:\n    // - discern (more) between multiple browsers on android\n    // - decide if kindle fire in silk mode is android or not\n    // - Firefox on Android doesn't specify the Android version\n    // - possibly devide in os, device and browser hashes\n\n    if (browser.webkit = !!webkit) browser.version = webkit[1]\n\n    if (android) os.android = true, os.version = android[2]\n    if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.')\n    if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.')\n    if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null\n    if (wp) os.wp = true, os.version = wp[1]\n    if (webos) os.webos = true, os.version = webos[2]\n    if (touchpad) os.touchpad = true\n    if (blackberry) os.blackberry = true, os.version = blackberry[2]\n    if (bb10) os.bb10 = true, os.version = bb10[2]\n    if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2]\n    if (playbook) browser.playbook = true\n    if (kindle) os.kindle = true, os.version = kindle[1]\n    if (silk) browser.silk = true, browser.version = silk[1]\n    if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true\n    if (chrome) browser.chrome = true, browser.version = chrome[1]\n    if (firefox) browser.firefox = true, browser.version = firefox[1]\n    if (firefoxos) os.firefoxos = true, os.version = firefoxos[1]\n    if (ie) browser.ie = true, browser.version = ie[1]\n    if (safari && (osx || os.ios || win)) {\n      browser.safari = true\n      if (!os.ios) browser.version = safari[1]\n    }\n    if (webview) browser.webview = true\n\n    os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n      (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)))\n    os.phone = !!(!os.tablet && !os.ipod && (android || iphone || webos || blackberry || bb10 ||\n      (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n      (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))))\n  }\n\n  detect.call($, navigator.userAgent, navigator.platform)\n    // make available to unit tests\n  $.__detect = detect\n\n})(Zepto)\n\n;\n(function($, undefined) {\n  var prefix = '',\n    eventPrefix,\n    vendors = {\n      Webkit: 'webkit',\n      Moz: '',\n      O: 'o'\n    },\n    testEl = document.createElement('div'),\n    supportedTransforms = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,\n    transform,\n    transitionProperty, transitionDuration, transitionTiming, transitionDelay,\n    animationName, animationDuration, animationTiming, animationDelay,\n    cssReset = {}\n\n  function dasherize(str) {\n    return str.replace(/([a-z])([A-Z])/, '$1-$2').toLowerCase()\n  }\n\n  function normalizeEvent(name) {\n    return eventPrefix ? eventPrefix + name : name.toLowerCase()\n  }\n\n  $.each(vendors, function(vendor, event) {\n    if (testEl.style[vendor + 'TransitionProperty'] !== undefined) {\n      prefix = '-' + vendor.toLowerCase() + '-'\n      eventPrefix = event\n      return false\n    }\n  })\n\n  transform = prefix + 'transform'\n  cssReset[transitionProperty = prefix + 'transition-property'] =\n    cssReset[transitionDuration = prefix + 'transition-duration'] =\n    cssReset[transitionDelay = prefix + 'transition-delay'] =\n    cssReset[transitionTiming = prefix + 'transition-timing-function'] =\n    cssReset[animationName = prefix + 'animation-name'] =\n    cssReset[animationDuration = prefix + 'animation-duration'] =\n    cssReset[animationDelay = prefix + 'animation-delay'] =\n    cssReset[animationTiming = prefix + 'animation-timing-function'] = ''\n\n  $.fx = {\n    off: (eventPrefix === undefined && testEl.style.transitionProperty === undefined),\n    speeds: {\n      _default: 400,\n      fast: 200,\n      slow: 600\n    },\n    cssPrefix: prefix,\n    transitionEnd: normalizeEvent('TransitionEnd'),\n    animationEnd: normalizeEvent('AnimationEnd')\n  }\n\n  $.fn.animate = function(properties, duration, ease, callback, delay) {\n    if ($.isFunction(duration))\n      callback = duration, ease = undefined, duration = undefined\n    if ($.isFunction(ease))\n      callback = ease, ease = undefined\n    if ($.isPlainObject(duration))\n      ease = duration.easing, callback = duration.complete, delay = duration.delay, duration = duration.duration\n    if (duration) duration = (typeof duration == 'number' ? duration :\n      ($.fx.speeds[duration] || $.fx.speeds._default)) / 1000\n    if (delay) delay = parseFloat(delay) / 1000\n    return this.anim(properties, duration, ease, callback, delay)\n  }\n\n  $.fn.anim = function(properties, duration, ease, callback, delay) {\n    var key, cssValues = {},\n      cssProperties, transforms = '',\n      that = this,\n      wrappedCallback, endEvent = $.fx.transitionEnd,\n      fired = false\n\n    if (duration === undefined) duration = $.fx.speeds._default / 1000\n    if (delay === undefined) delay = 0\n    if ($.fx.off) duration = 0\n\n    if (typeof properties == 'string') {\n      // keyframe animation\n      cssValues[animationName] = properties\n      cssValues[animationDuration] = duration + 's'\n      cssValues[animationDelay] = delay + 's'\n      cssValues[animationTiming] = (ease || 'linear')\n      endEvent = $.fx.animationEnd\n    } else {\n      cssProperties = []\n        // CSS transitions\n      for (key in properties)\n        if (supportedTransforms.test(key)) transforms += key + '(' + properties[key] + ') '\n        else cssValues[key] = properties[key], cssProperties.push(dasherize(key))\n\n      if (transforms) cssValues[transform] = transforms, cssProperties.push(transform)\n      if (duration > 0 && typeof properties === 'object') {\n        cssValues[transitionProperty] = cssProperties.join(', ')\n        cssValues[transitionDuration] = duration + 's'\n        cssValues[transitionDelay] = delay + 's'\n        cssValues[transitionTiming] = (ease || 'linear')\n      }\n    }\n\n    wrappedCallback = function(event) {\n      if (typeof event !== 'undefined') {\n        if (event.target !== event.currentTarget) return // makes sure the event didn't bubble from \"below\"\n        $(event.target).unbind(endEvent, wrappedCallback)\n      } else\n        $(this).unbind(endEvent, wrappedCallback) // triggered by setTimeout\n\n      fired = true\n      $(this).css(cssReset)\n      callback && callback.call(this)\n    }\n    if (duration > 0) {\n      this.bind(endEvent, wrappedCallback)\n        // transitionEnd is not always firing on older Android phones\n        // so make sure it gets fired\n      setTimeout(function() {\n        if (fired) return\n        wrappedCallback.call(that)\n      }, ((duration + delay) * 1000) + 25)\n    }\n\n    // trigger page reflow so new elements can animate\n    this.size() && this.get(0).clientLeft\n\n    this.css(cssValues)\n\n    if (duration <= 0) setTimeout(function() {\n      that.each(function() {\n        wrappedCallback.call(this)\n      })\n    }, 0)\n\n    return this\n  }\n\n  testEl = null\n})(Zepto)\n\n;\n(function($, undefined) {\n  var document = window.document,\n    docElem = document.documentElement,\n    origShow = $.fn.show,\n    origHide = $.fn.hide,\n    origToggle = $.fn.toggle\n\n  function anim(el, speed, opacity, scale, callback) {\n    if (typeof speed == 'function' && !callback) callback = speed, speed = undefined\n    var props = {\n      opacity: opacity\n    }\n    if (scale) {\n      props.scale = scale\n      el.css($.fx.cssPrefix + 'transform-origin', '0 0')\n    }\n    return el.animate(props, speed, null, callback)\n  }\n\n  function hide(el, speed, scale, callback) {\n    return anim(el, speed, 0, scale, function() {\n      origHide.call($(this))\n      callback && callback.call(this)\n    })\n  }\n\n  $.fn.show = function(speed, callback) {\n    origShow.call(this)\n    if (speed === undefined) speed = 0\n    else this.css('opacity', 0)\n    return anim(this, speed, 1, '1,1', callback)\n  }\n\n  $.fn.hide = function(speed, callback) {\n    if (speed === undefined) return origHide.call(this)\n    else return hide(this, speed, '0,0', callback)\n  }\n\n  $.fn.toggle = function(speed, callback) {\n    if (speed === undefined || typeof speed == 'boolean')\n      return origToggle.call(this, speed)\n    else return this.each(function() {\n      var el = $(this)\n      el[el.css('display') == 'none' ? 'show' : 'hide'](speed, callback)\n    })\n  }\n\n  $.fn.fadeTo = function(speed, opacity, callback) {\n    return anim(this, speed, opacity, null, callback)\n  }\n\n  $.fn.fadeIn = function(speed, callback) {\n    var target = this.css('opacity')\n    if (target > 0) this.css('opacity', 0)\n    else target = 1\n    return origShow.call(this).fadeTo(speed, target, callback)\n  }\n\n  $.fn.fadeOut = function(speed, callback) {\n    return hide(this, speed, null, callback)\n  }\n\n  $.fn.fadeToggle = function(speed, callback) {\n    return this.each(function() {\n      var el = $(this)\n      el[\n        (el.css('opacity') == 0 || el.css('display') == 'none') ? 'fadeIn' : 'fadeOut'\n      ](speed, callback)\n    })\n  }\n\n})(Zepto)\n\n;\n(function($) {\n  var cache = [],\n    timeout\n\n  $.fn.remove = function() {\n    return this.each(function() {\n      if (this.parentNode) {\n        if (this.tagName === 'IMG') {\n          cache.push(this)\n          this.src = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\n          if (timeout) clearTimeout(timeout)\n          timeout = setTimeout(function() {\n            cache = []\n          }, 60000)\n        }\n        this.parentNode.removeChild(this)\n      }\n    })\n  }\n})(Zepto)\n\n;\n(function($) {\n  var slice = Array.prototype.slice\n\n  function Deferred(func) {\n    var tuples = [\n        // action, add listener, listener list, final state\n        [\"resolve\", \"done\", $.Callbacks({\n          once: 1,\n          memory: 1\n        }), \"resolved\"],\n        [\"reject\", \"fail\", $.Callbacks({\n          once: 1,\n          memory: 1\n        }), \"rejected\"],\n        [\"notify\", \"progress\", $.Callbacks({\n          memory: 1\n        })]\n      ],\n      state = \"pending\",\n      promise = {\n        state: function() {\n          return state\n        },\n        always: function() {\n          deferred.done(arguments).fail(arguments)\n          return this\n        },\n        then: function( /* fnDone [, fnFailed [, fnProgress]] */ ) {\n          var fns = arguments\n          return Deferred(function(defer) {\n            $.each(tuples, function(i, tuple) {\n              var fn = $.isFunction(fns[i]) && fns[i]\n              deferred[tuple[1]](function() {\n                var returned = fn && fn.apply(this, arguments)\n                if (returned && $.isFunction(returned.promise)) {\n                  returned.promise()\n                    .done(defer.resolve)\n                    .fail(defer.reject)\n                    .progress(defer.notify)\n                } else {\n                  var context = this === promise ? defer.promise() : this,\n                    values = fn ? [returned] : arguments\n                  defer[tuple[0] + \"With\"](context, values)\n                }\n              })\n            })\n            fns = null\n          }).promise()\n        },\n\n        promise: function(obj) {\n          return obj != null ? $.extend(obj, promise) : promise\n        }\n      },\n      deferred = {}\n\n    $.each(tuples, function(i, tuple) {\n      var list = tuple[2],\n        stateString = tuple[3]\n\n      promise[tuple[1]] = list.add\n\n      if (stateString) {\n        list.add(function() {\n          state = stateString\n        }, tuples[i ^ 1][2].disable, tuples[2][2].lock)\n      }\n\n      deferred[tuple[0]] = function() {\n        deferred[tuple[0] + \"With\"](this === deferred ? promise : this, arguments)\n        return this\n      }\n      deferred[tuple[0] + \"With\"] = list.fireWith\n    })\n\n    promise.promise(deferred)\n    if (func) func.call(deferred, deferred)\n    return deferred\n  }\n\n  $.when = function(sub) {\n    var resolveValues = slice.call(arguments),\n      len = resolveValues.length,\n      i = 0,\n      remain = len !== 1 || (sub && $.isFunction(sub.promise)) ? len : 0,\n      deferred = remain === 1 ? sub : Deferred(),\n      progressValues, progressContexts, resolveContexts,\n      updateFn = function(i, ctx, val) {\n        return function(value) {\n          ctx[i] = this\n          val[i] = arguments.length > 1 ? slice.call(arguments) : value\n          if (val === progressValues) {\n            deferred.notifyWith(ctx, val)\n          } else if (!(--remain)) {\n            deferred.resolveWith(ctx, val)\n          }\n        }\n      }\n\n    if (len > 1) {\n      progressValues = new Array(len)\n      progressContexts = new Array(len)\n      resolveContexts = new Array(len)\n      for (; i < len; ++i) {\n        if (resolveValues[i] && $.isFunction(resolveValues[i].promise)) {\n          resolveValues[i].promise()\n            .done(updateFn(i, resolveContexts, resolveValues))\n            .fail(deferred.reject)\n            .progress(updateFn(i, progressContexts, progressValues))\n        } else {\n          --remain\n        }\n      }\n    }\n    if (!remain) deferred.resolveWith(resolveContexts, resolveValues)\n    return deferred.promise()\n  }\n\n  $.Deferred = Deferred\n})(Zepto)\n\n;\n(function($) {\n  // Create a collection of callbacks to be fired in a sequence, with configurable behaviour\n  // Option flags:\n  //   - once: Callbacks fired at most one time.\n  //   - memory: Remember the most recent context and arguments\n  //   - stopOnFalse: Cease iterating over callback list\n  //   - unique: Permit adding at most one instance of the same callback\n  $.Callbacks = function(options) {\n    options = $.extend({}, options)\n\n    var memory, // Last fire value (for non-forgettable lists)\n      fired, // Flag to know if list was already fired\n      firing, // Flag to know if list is currently firing\n      firingStart, // First callback to fire (used internally by add and fireWith)\n      firingLength, // End of the loop when firing\n      firingIndex, // Index of currently firing callback (modified by remove if needed)\n      list = [], // Actual callback list\n      stack = !options.once && [], // Stack of fire calls for repeatable lists\n      fire = function(data) {\n        memory = options.memory && data\n        fired = true\n        firingIndex = firingStart || 0\n        firingStart = 0\n        firingLength = list.length\n        firing = true\n        for (; list && firingIndex < firingLength; ++firingIndex) {\n          if (list[firingIndex].apply(data[0], data[1]) === false && options.stopOnFalse) {\n            memory = false\n            break\n          }\n        }\n        firing = false\n        if (list) {\n          if (stack) stack.length && fire(stack.shift())\n          else if (memory) list.length = 0\n          else Callbacks.disable()\n        }\n      },\n\n      Callbacks = {\n        add: function() {\n          if (list) {\n            var start = list.length,\n              add = function(args) {\n                $.each(args, function(_, arg) {\n                  if (typeof arg === \"function\") {\n                    if (!options.unique || !Callbacks.has(arg)) list.push(arg)\n                  } else if (arg && arg.length && typeof arg !== 'string') add(arg)\n                })\n              }\n            add(arguments)\n            if (firing) firingLength = list.length\n            else if (memory) {\n              firingStart = start\n              fire(memory)\n            }\n          }\n          return this\n        },\n        remove: function() {\n          if (list) {\n            $.each(arguments, function(_, arg) {\n              var index\n              while ((index = $.inArray(arg, list, index)) > -1) {\n                list.splice(index, 1)\n                  // Handle firing indexes\n                if (firing) {\n                  if (index <= firingLength) --firingLength\n                  if (index <= firingIndex) --firingIndex\n                }\n              }\n            })\n          }\n          return this\n        },\n        has: function(fn) {\n          return !!(list && (fn ? $.inArray(fn, list) > -1 : list.length))\n        },\n        empty: function() {\n          firingLength = list.length = 0\n          return this\n        },\n        disable: function() {\n          list = stack = memory = undefined\n          return this\n        },\n        disabled: function() {\n          return !list\n        },\n        lock: function() {\n          stack = undefined;\n          if (!memory) Callbacks.disable()\n          return this\n        },\n        locked: function() {\n          return !stack\n        },\n        fireWith: function(context, args) {\n          if (list && (!fired || stack)) {\n            args = args || []\n            args = [context, args.slice ? args.slice() : args]\n            if (firing) stack.push(args)\n            else fire(args)\n          }\n          return this\n        },\n        fire: function() {\n          return Callbacks.fireWith(this, arguments)\n        },\n        fired: function() {\n          return !!fired\n        }\n      }\n\n    return Callbacks\n  }\n})(Zepto)\n\n;\n(function($) {\n  var zepto = $.zepto,\n    oldQsa = zepto.qsa,\n    oldMatches = zepto.matches\n\n  function visible(elem) {\n    elem = $(elem)\n    return !!(elem.width() || elem.height()) && elem.css(\"display\") !== \"none\"\n  }\n\n  // Implements a subset from:\n  // http://api.jquery.com/category/selectors/jquery-selector-extensions/\n  //\n  // Each filter function receives the current index, all nodes in the\n  // considered set, and a value if there were parentheses. The value\n  // of `this` is the node currently being considered. The function returns the\n  // resulting node(s), null, or undefined.\n  //\n  // Complex selectors are not supported:\n  //   li:has(label:contains(\"foo\")) + li:has(label:contains(\"bar\"))\n  //   ul.inner:first > li\n  var filters = $.expr[':'] = {\n    visible: function() {\n      if (visible(this)) return this\n    },\n    hidden: function() {\n      if (!visible(this)) return this\n    },\n    selected: function() {\n      if (this.selected) return this\n    },\n    checked: function() {\n      if (this.checked) return this\n    },\n    parent: function() {\n      return this.parentNode\n    },\n    first: function(idx) {\n      if (idx === 0) return this\n    },\n    last: function(idx, nodes) {\n      if (idx === nodes.length - 1) return this\n    },\n    eq: function(idx, _, value) {\n      if (idx === value) return this\n    },\n    contains: function(idx, _, text) {\n      if ($(this).text().indexOf(text) > -1) return this\n    },\n    has: function(idx, _, sel) {\n      if (zepto.qsa(this, sel).length) return this\n    }\n  }\n\n  var filterRe = new RegExp('(.*):(\\\\w+)(?:\\\\(([^)]+)\\\\))?$\\\\s*'),\n    childRe = /^\\s*>/,\n    classTag = 'Zepto' + (+new Date())\n\n  function process(sel, fn) {\n    // quote the hash in `a[href^=#]` expression\n    sel = sel.replace(/=#\\]/g, '=\"#\"]')\n    var filter, arg, match = filterRe.exec(sel)\n    if (match && match[2] in filters) {\n      filter = filters[match[2]], arg = match[3]\n      sel = match[1]\n      if (arg) {\n        var num = Number(arg)\n        if (isNaN(num)) arg = arg.replace(/^[\"']|[\"']$/g, '')\n        else arg = num\n      }\n    }\n    return fn(sel, filter, arg)\n  }\n\n  zepto.qsa = function(node, selector) {\n    return process(selector, function(sel, filter, arg) {\n      try {\n        var taggedParent\n        if (!sel && filter) sel = '*'\n        else if (childRe.test(sel))\n        // support \"> *\" child queries by tagging the parent node with a\n        // unique class and prepending that classname onto the selector\n          taggedParent = $(node).addClass(classTag), sel = '.' + classTag + ' ' + sel\n\n        var nodes = oldQsa(node, sel)\n      } catch (e) {\n        console.error('error performing selector: %o', selector)\n        throw e\n      } finally {\n        if (taggedParent) taggedParent.removeClass(classTag)\n      }\n      return !filter ? nodes :\n        zepto.uniq($.map(nodes, function(n, i) {\n          return filter.call(n, i, nodes, arg)\n        }))\n    })\n  }\n\n  zepto.matches = function(node, selector) {\n    return process(selector, function(sel, filter, arg) {\n      return (!sel || oldMatches(node, sel)) &&\n        (!filter || filter.call(node, null, arg) === node)\n    })\n  }\n})(Zepto)\n\n;\n(function($) {\n  var touch = {},\n    touchTimeout, tapTimeout, swipeTimeout, longTapTimeout,\n    longTapDelay = 750,\n    gesture\n\n  function swipeDirection(x1, x2, y1, y2) {\n    return Math.abs(x1 - x2) >=\n      Math.abs(y1 - y2) ? (x1 - x2 > 0 ? 'Left' : 'Right') : (y1 - y2 > 0 ? 'Up' : 'Down')\n  }\n\n  function longTap() {\n    longTapTimeout = null\n    if (touch.last) {\n      touch.el.trigger('longTap')\n      touch = {}\n    }\n  }\n\n  function cancelLongTap() {\n    if (longTapTimeout) clearTimeout(longTapTimeout)\n    longTapTimeout = null\n  }\n\n  function cancelAll() {\n    if (touchTimeout) clearTimeout(touchTimeout)\n    if (tapTimeout) clearTimeout(tapTimeout)\n    if (swipeTimeout) clearTimeout(swipeTimeout)\n    if (longTapTimeout) clearTimeout(longTapTimeout)\n    touchTimeout = tapTimeout = swipeTimeout = longTapTimeout = null\n    touch = {}\n  }\n\n  function isPrimaryTouch(event) {\n    return (event.pointerType == 'touch' ||\n      event.pointerType == event.MSPOINTER_TYPE_TOUCH) && event.isPrimary\n  }\n\n  function isPointerEventType(e, type) {\n    return (e.type == 'pointer' + type ||\n      e.type.toLowerCase() == 'mspointer' + type)\n  }\n\n  $(document).ready(function() {\n    var now, delta, deltaX = 0,\n      deltaY = 0,\n      firstTouch, _isPointerType\n\n    if ('MSGesture' in window) {\n      gesture = new MSGesture()\n      gesture.target = document.body\n    }\n\n    $(document)\n      .bind('MSGestureEnd', function(e) {\n        var swipeDirectionFromVelocity =\n          e.velocityX > 1 ? 'Right' : e.velocityX < -1 ? 'Left' : e.velocityY > 1 ? 'Down' : e.velocityY < -1 ? 'Up' : null;\n        if (swipeDirectionFromVelocity) {\n          touch.el.trigger('swipe')\n          touch.el.trigger('swipe' + swipeDirectionFromVelocity)\n        }\n      })\n      .on('touchstart MSPointerDown pointerdown', function(e) {\n        if ((_isPointerType = isPointerEventType(e, 'down')) &&\n          !isPrimaryTouch(e)) return\n        firstTouch = _isPointerType ? e : e.touches[0]\n        if (e.touches && e.touches.length === 1 && touch.x2) {\n          // Clear out touch movement data if we have it sticking around\n          // This can occur if touchcancel doesn't fire due to preventDefault, etc.\n          touch.x2 = undefined\n          touch.y2 = undefined\n        }\n        now = Date.now()\n        delta = now - (touch.last || now)\n        touch.el = $('tagName' in firstTouch.target ?\n          firstTouch.target : firstTouch.target.parentNode)\n        touchTimeout && clearTimeout(touchTimeout)\n        touch.x1 = firstTouch.pageX\n        touch.y1 = firstTouch.pageY\n        if (delta > 0 && delta <= 250) touch.isDoubleTap = true\n        touch.last = now\n        longTapTimeout = setTimeout(longTap, longTapDelay)\n          // adds the current touch contact for IE gesture recognition\n        if (gesture && _isPointerType) gesture.addPointer(e.pointerId);\n      })\n      .on('touchmove MSPointerMove pointermove', function(e) {\n        if ((_isPointerType = isPointerEventType(e, 'move')) &&\n          !isPrimaryTouch(e)) return\n        firstTouch = _isPointerType ? e : e.touches[0]\n        cancelLongTap()\n        touch.x2 = firstTouch.pageX\n        touch.y2 = firstTouch.pageY\n\n        deltaX += Math.abs(touch.x1 - touch.x2)\n        deltaY += Math.abs(touch.y1 - touch.y2)\n      })\n      .on('touchend MSPointerUp pointerup', function(e) {\n        if ((_isPointerType = isPointerEventType(e, 'up')) &&\n          !isPrimaryTouch(e)) return\n        cancelLongTap()\n\n        // swipe\n        if ((touch.x2 && Math.abs(touch.x1 - touch.x2) > 30) ||\n          (touch.y2 && Math.abs(touch.y1 - touch.y2) > 30))\n\n          swipeTimeout = setTimeout(function() {\n          touch.el.trigger('swipe')\n          touch.el.trigger('swipe' + (swipeDirection(touch.x1, touch.x2, touch.y1, touch.y2)))\n          touch = {}\n        }, 0)\n\n        // normal tap\n        else if ('last' in touch)\n        // don't fire tap when delta position changed by more than 30 pixels,\n        // for instance when moving to a point and back to origin\n          if (deltaX < 30 && deltaY < 30) {\n            // delay by one tick so we can cancel the 'tap' event if 'scroll' fires\n            // ('tap' fires before 'scroll')\n            tapTimeout = setTimeout(function() {\n\n              // trigger universal 'tap' with the option to cancelTouch()\n              // (cancelTouch cancels processing of single vs double taps for faster 'tap' response)\n              var event = $.Event('tap')\n              event.cancelTouch = cancelAll\n              touch.el.trigger(event)\n\n              // trigger double tap immediately\n              if (touch.isDoubleTap) {\n                if (touch.el) touch.el.trigger('doubleTap')\n                touch = {}\n              }\n\n              // trigger single tap after 250ms of inactivity\n              else {\n                touchTimeout = setTimeout(function() {\n                  touchTimeout = null\n                  if (touch.el) touch.el.trigger('singleTap')\n                  touch = {}\n                }, 250)\n              }\n            }, 0)\n          } else {\n            touch = {}\n          }\n        deltaX = deltaY = 0\n\n      })\n      // when the browser window loses focus,\n      // for example when a modal dialog is shown,\n      // cancel all ongoing events\n      .on('touchcancel MSPointerCancel pointercancel', cancelAll)\n\n    // scrolling the window indicates intention of the user\n    // to scroll, not tap or swipe, so cancel all ongoing events\n    $(window).on('scroll', cancelAll)\n  })\n\n  ;\n  ['swipe', 'swipeLeft', 'swipeRight', 'swipeUp', 'swipeDown',\n    'doubleTap', 'tap', 'singleTap', 'longTap'\n  ].forEach(function(eventName) {\n    $.fn[eventName] = function(callback) {\n      return this.on(eventName, callback)\n    }\n  })\n})(Zepto)\n\n;\n(function($) {\n  if ($.os.ios) {\n    var gesture = {},\n      gestureTimeout\n\n    function parentIfText(node) {\n      return 'tagName' in node ? node : node.parentNode\n    }\n\n    $(document).bind('gesturestart', function(e) {\n      var now = Date.now(),\n        delta = now - (gesture.last || now)\n      gesture.target = parentIfText(e.target)\n      gestureTimeout && clearTimeout(gestureTimeout)\n      gesture.e1 = e.scale\n      gesture.last = now\n    }).bind('gesturechange', function(e) {\n      gesture.e2 = e.scale\n    }).bind('gestureend', function(e) {\n      if (gesture.e2 > 0) {\n        Math.abs(gesture.e1 - gesture.e2) != 0 && $(gesture.target).trigger('pinch') &&\n          $(gesture.target).trigger('pinch' + (gesture.e1 - gesture.e2 > 0 ? 'In' : 'Out'))\n        gesture.e1 = gesture.e2 = gesture.last = 0\n      } else if ('last' in gesture) {\n        gesture = {}\n      }\n    })\n\n    ;\n    ['pinch', 'pinchIn', 'pinchOut'].forEach(function(m) {\n      $.fn[m] = function(callback) {\n        return this.bind(m, callback)\n      }\n    })\n  }\n})(Zepto)\n\n;\n(function($) {\n  $.fn.end = function() {\n    return this.prevObject || $()\n  }\n\n  $.fn.andSelf = function() {\n    return this.add(this.prevObject || $())\n  }\n\n  'filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings'.split(',').forEach(function(property) {\n    var fn = $.fn[property]\n    $.fn[property] = function() {\n      var ret = fn.apply(this, arguments)\n      ret.prevObject = this\n      return ret\n    }\n  })\n})(Zepto)\n\n;\n(function(undefined) {\n  if (String.prototype.trim === undefined) // fix for iOS 3.2\n    String.prototype.trim = function() {\n    return this.replace(/^\\s+|\\s+$/g, '')\n  }\n\n  // For iOS 3.x\n  // from https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/reduce\n  if (Array.prototype.reduce === undefined)\n    Array.prototype.reduce = function(fun) {\n      if (this === void 0 || this === null) throw new TypeError()\n      var t = Object(this),\n        len = t.length >>> 0,\n        k = 0,\n        accumulator\n      if (typeof fun != 'function') throw new TypeError()\n      if (len == 0 && arguments.length == 1) throw new TypeError()\n\n      if (arguments.length >= 2)\n        accumulator = arguments[1]\n      else\n        do {\n          if (k in t) {\n            accumulator = t[k++]\n            break\n          }\n          if (++k >= len) throw new TypeError()\n        } while (true)\n\n      while (k < len) {\n        if (k in t) accumulator = fun.call(undefined, accumulator, t[k], k, t)\n        k++\n      }\n      return accumulator\n    }\n\n})()\n\n//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype,\n    ObjProto = Object.prototype,\n    FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeBind = FuncProto.bind,\n    nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function() {};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1:\n        return function(value) {\n          return func.call(context, value);\n        };\n      case 2:\n        return function(value, other) {\n          return func.call(context, value, other);\n        };\n      case 3:\n        return function(value, index, collection) {\n          return func.call(context, value, index, collection);\n        };\n      case 4:\n        return function(accumulator, value, index, collection) {\n          return func.call(context, accumulator, value, index, collection);\n        };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n      length = (keys || obj).length,\n      results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n      length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n      length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity,\n      lastComputed = -Infinity,\n      value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity,\n      lastComputed = Infinity,\n      value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value);\n    else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++;\n    else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [],\n      fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [],\n      idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0,\n          len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value) {\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0,\n      high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1;\n      else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0,\n        length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0,\n        length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length,\n      key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{\n    toString: null\n  }.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'\n  ];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj)\n      if (_.has(obj, key)) keys.push(key);\n      // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n      length = keys.length,\n      results = {},\n      currentKey;\n    for (var index = 0; index < length; index++) {\n      currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj),\n      key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {},\n      obj = object,\n      iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) {\n        return key in obj;\n      };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs),\n      length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor,\n        bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n          _.isFunction(bCtor) && bCtor instanceof bCtor) && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a),\n        key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function() {};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function() {} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n//     Backbone.js 1.2.3\n\n//     (c) 2010-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(factory) {\n\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = (typeof self == 'object' && self.self == self && self) ||\n    (typeof global == 'object' && global.global == global && global);\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd) {\n    define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n      // Export global even in AMD case in case this script is loaded with\n      // others that may still expect a global Backbone.\n      root.Backbone = factory(root, exports, _, $);\n    });\n\n    // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== 'undefined') {\n    var _ = require('underscore'),\n      $;\n    try {\n      $ = require('jquery');\n    } catch (e) {}\n    factory(root, exports, _, $);\n\n    // Finally, as a browser global.\n  } else {\n    root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));\n  }\n\n}(function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to a common array method we'll want to use later.\n  var slice = Array.prototype.slice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.2.3';\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n  var addMethod = function(length, method, attribute) {\n    switch (length) {\n      case 1:\n        return function() {\n          return _[method](this[attribute]);\n        };\n      case 2:\n        return function(value) {\n          return _[method](this[attribute], value);\n        };\n      case 3:\n        return function(iteratee, context) {\n          return _[method](this[attribute], cb(iteratee, this), context);\n        };\n      case 4:\n        return function(iteratee, defaultVal, context) {\n          return _[method](this[attribute], cb(iteratee, this), defaultVal, context);\n        };\n      default:\n        return function() {\n          var args = slice.call(arguments);\n          args.unshift(this[attribute]);\n          return _[method].apply(_, args);\n        };\n    }\n  };\n  var addUnderscoreMethods = function(Class, methods, attribute) {\n    _.each(methods, function(length, method) {\n      if (_[method]) Class.prototype[method] = addMethod(length, method, attribute);\n    });\n  };\n\n  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n  var cb = function(iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function(model) {\n      return model.get(iteratee);\n    };\n    return iteratee;\n  };\n  var modelMatcher = function(attrs) {\n    var matcher = _.matches(attrs);\n    return function(model) {\n      return matcher(model.attributes);\n    };\n  };\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {};\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n  var eventsApi = function(iteratee, events, name, callback, opts) {\n    var i = 0,\n      names;\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n      for (names = _.keys(name); i < names.length; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n    return events;\n  };\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  Events.on = function(name, callback, context) {\n    return internalOn(this, name, callback, context);\n  };\n\n  // Guard the `listening` argument from the public API.\n  var internalOn = function(obj, name, callback, context, listening) {\n    obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\n      context: context,\n      ctx: obj,\n      listening: listening\n    });\n\n    if (listening) {\n      var listeners = obj._listeners || (obj._listeners = {});\n      listeners[listening.id] = listening;\n    }\n\n    return obj;\n  };\n\n  // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n  Events.listenTo = function(obj, name, callback) {\n    if (!obj) return this;\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = listeningTo[id];\n\n    // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n    if (!listening) {\n      var thisId = this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = listeningTo[id] = {\n        obj: obj,\n        objId: id,\n        id: thisId,\n        listeningTo: listeningTo,\n        count: 0\n      };\n    }\n\n    // Bind callbacks on obj, and keep track of them on listening.\n    internalOn(obj, name, callback, this, listening);\n    return this;\n  };\n\n  // The reducing API that adds a callback to the `events` object.\n  var onApi = function(events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context,\n        ctx = options.ctx,\n        listening = options.listening;\n      if (listening) listening.count++;\n\n      handlers.push({\n        callback: callback,\n        context: context,\n        ctx: context || ctx,\n        listening: listening\n      });\n    }\n    return events;\n  };\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  Events.off = function(name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n    return this;\n  };\n\n  // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n  Events.stopListening = function(obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]];\n\n      // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n      if (!listening) break;\n\n      listening.obj.off(name, callback, this);\n    }\n    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n\n    return this;\n  };\n\n  // The reducing API that removes a callback from the `events` object.\n  var offApi = function(events, name, callback, options) {\n    if (!events) return;\n\n    var i = 0,\n      listening;\n    var context = options.context,\n      listeners = options.listeners;\n\n    // Delete all events listeners and \"drop\" events.\n    if (!name && !callback && !context) {\n      var ids = _.keys(listeners);\n      for (; i < ids.length; i++) {\n        listening = listeners[ids[i]];\n        delete listeners[listening.id];\n        delete listening.listeningTo[listening.objId];\n      }\n      return;\n    }\n\n    var names = name ? [name] : _.keys(events);\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name];\n\n      // Bail out if there are no events stored.\n      if (!handlers) break;\n\n      // Replace events if there are any remaining.  Otherwise, clean up.\n      var remaining = [];\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n        if (\n          callback && callback !== handler.callback &&\n          callback !== handler.callback._callback ||\n          context && context !== handler.context\n        ) {\n          remaining.push(handler);\n        } else {\n          listening = handler.listening;\n          if (listening && --listening.count === 0) {\n            delete listeners[listening.id];\n            delete listening.listeningTo[listening.objId];\n          }\n        }\n      }\n\n      // Update tail event if the list has any events.  Otherwise, clean up.\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n    if (_.size(events)) return events;\n  };\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n  Events.once = function(name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));\n    return this.on(events, void 0, context);\n  };\n\n  // Inversion-of-control versions of `once`.\n  Events.listenToOnce = function(obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));\n    return this.listenTo(obj, events);\n  };\n\n  // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n  var onceMap = function(map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function() {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n    }\n    return map;\n  };\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  Events.trigger = function(name) {\n    if (!this._events) return this;\n\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  };\n\n  // Handles triggering the appropriate event callbacks.\n  var triggerApi = function(objEvents, name, cb, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n    return objEvents;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1,\n      l = events.length,\n      a1 = args[0],\n      a2 = args[1],\n      a3 = args[2];\n    switch (args.length) {\n      case 0:\n        while (++i < l)(ev = events[i]).callback.call(ev.ctx);\n        return;\n      case 1:\n        while (++i < l)(ev = events[i]).callback.call(ev.ctx, a1);\n        return;\n      case 2:\n        while (++i < l)(ev = events[i]).callback.call(ev.ctx, a1, a2);\n        return;\n      case 3:\n        while (++i < l)(ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n        return;\n      default:\n        while (++i < l)(ev = events[i]).callback.apply(ev.ctx, args);\n        return;\n    }\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    attrs = _.defaults({}, attrs, _.result(this, 'defaults'));\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function() {},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function(attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      var unset = options.unset;\n      var silent = options.silent;\n      var changes = [];\n      var changing = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev = this._previousAttributes;\n\n      // For each `set` attribute, update or delete the current value.\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Update the `id`.\n      this.id = this.get(this.idAttribute);\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = options;\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {\n        unset: true\n      }));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {\n        unset: true\n      }));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n      }\n      return _.size(changed) ? changed : false;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function(options) {\n      options = _.extend({\n        parse: true\n      }, options);\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({\n        validate: true,\n        parse: true\n      }, options);\n      var wait = options.wait;\n\n      // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else {\n        if (!this._validate(attrs, options)) return false;\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      // Set temporary attributes if `{wait: true}` to properly find new ids.\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n      var method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function() {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n      if (!wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base =\n        _.result(this, 'urlRoot') ||\n        _.result(this.collection, 'url') ||\n        urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return !this.has(this.idAttribute);\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.defaults({\n        validate: true\n      }, options));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {\n        validationError: error\n      }));\n      return false;\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n  var modelMethods = {\n    keys: 1,\n    values: 1,\n    pairs: 1,\n    invert: 1,\n    pick: 0,\n    omit: 0,\n    chain: 1,\n    isEmpty: 1\n  };\n\n  // Mix in each Underscore method as a proxy to `Model#attributes`.\n  addUnderscoreMethods(Model, modelMethods, 'attributes');\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({\n      silent: true\n    }, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {\n    add: true,\n    remove: true,\n    merge: true\n  };\n  var addOptions = {\n    add: true,\n    remove: false\n  };\n\n  // Splices `insert` into `array` at index `at`.\n  var splice = function(array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    for (var i = 0; i < tail.length; i++) tail[i] = array[i + at];\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function() {},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model) {\n        return model.toJSON(options);\n      });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function(models, options) {\n      return this.set(models, _.extend({\n        merge: false\n      }, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : _.clone(models);\n      var removed = this._removeModels(models, options);\n      if (!options.silent && removed) this.trigger('update', this, options);\n      return singular ? removed[0] : removed;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      if (models == null) return;\n\n      options = _.defaults({}, options, setOptions);\n      if (options.parse && !this._isModel(models)) models = this.parse(models, options);\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at < 0) at += this.length + 1;\n\n      var set = [];\n      var toAdd = [];\n      var toRemove = [];\n      var modelMap = {};\n\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n\n      var sort = false;\n      var sortable = this.comparator && (at == null) && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      var model;\n      for (var i = 0; i < models.length; i++) {\n        model = models[i];\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        var existing = this.get(model);\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n          models[i] = existing;\n\n          // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n          if (model) {\n            toAdd.push(model);\n            this._addReference(model, options);\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      }\n\n      // Remove stale models.\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this._removeModels(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n      if (set.length && replace) {\n        orderChanged = this.length != set.length || _.some(this.models, function(model, index) {\n          return model !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({\n        silent: true\n      });\n\n      // Unless silenced, it's time to fire all appropriate add/sort events.\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n        if (sort || orderChanged) this.trigger('sort', this, options);\n        if (toAdd.length || toRemove.length) this.trigger('update', this, options);\n      }\n\n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options = options ? _.clone(options) : {};\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({\n        silent: true\n      }, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({\n        at: this.length\n      }, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({\n        at: 0\n      }, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      var id = this.modelId(this._isModel(obj) ? obj.attributes : obj);\n      return this._byId[obj] || this._byId[id] || this._byId[obj.cid];\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = _.bind(comparator, this);\n\n      // Run sort based on type of `comparator`.\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return _.invoke(this.models, 'get', attr);\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = _.extend({\n        parse: true\n      }, options);\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(model, resp, callbackOpts) {\n        if (wait) collection.add(model, callbackOpts);\n        if (success) success.call(callbackOpts.context, model, resp, callbackOpts);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n\n    // Define how to uniquely identify models in the collection.\n    modelId: function(attrs) {\n      return attrs[this.model.prototype.idAttribute || 'id'];\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method called by both remove and set.\n    _removeModels: function(models, options) {\n      var removed = [];\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n        this._removeReference(model, options);\n      }\n      return removed.length ? removed : false;\n    },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function(model) {\n      return model instanceof Model;\n    },\n\n    // Internal method to create a model's ties to a collection.\n    _addReference: function(model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if ((event === 'add' || event === 'remove') && collection !== this) return;\n      if (event === 'destroy') this.remove(model, options);\n      if (event === 'change') {\n        var prevId = this.modelId(model.previousAttributes());\n        var id = this.modelId(model.attributes);\n        if (prevId !== id) {\n          if (prevId != null) delete this._byId[prevId];\n          if (id != null) this._byId[id] = model;\n        }\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var collectionMethods = {\n    forEach: 3,\n    each: 3,\n    map: 3,\n    collect: 3,\n    reduce: 4,\n    foldl: 4,\n    inject: 4,\n    reduceRight: 4,\n    foldr: 4,\n    find: 3,\n    detect: 3,\n    filter: 3,\n    select: 3,\n    reject: 3,\n    every: 3,\n    all: 3,\n    some: 3,\n    any: 3,\n    include: 3,\n    includes: 3,\n    contains: 3,\n    invoke: 0,\n    max: 3,\n    min: 3,\n    toArray: 1,\n    size: 1,\n    first: 3,\n    head: 3,\n    take: 3,\n    initial: 3,\n    rest: 3,\n    tail: 3,\n    drop: 3,\n    last: 3,\n    without: 0,\n    difference: 0,\n    indexOf: 3,\n    shuffle: 1,\n    lastIndexOf: 3,\n    isEmpty: 1,\n    chain: 1,\n    sample: 3,\n    partition: 3,\n    groupBy: 3,\n    countBy: 3,\n    sortBy: 3,\n    indexBy: 3\n  };\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n  addUnderscoreMethods(Collection, collectionMethods, 'models');\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be set as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function() {},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this._removeElement();\n      this.stopListening();\n      return this;\n    },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function() {\n      this.$el.remove();\n    },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function(element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n    },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function(el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function(events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], _.bind(method, this));\n      }\n      return this;\n    },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function(eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function(eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function(tagName) {\n      return document.createElement(tagName);\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function(attributes) {\n      this.$el.attr(attributes);\n    }\n\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {\n      type: type,\n      dataType: 'json'\n    };\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {\n        model: params.data\n      } : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // Pass along `textStatus` and `errorThrown` from jQuery.\n    var error = options.error;\n    options.error = function(xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    };\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    'create': 'POST',\n    'update': 'PUT',\n    'patch': 'PATCH',\n    'delete': 'DELETE',\n    'read': 'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam = /(\\(\\?)?:\\w+/g;\n  var splatParam = /\\*\\w+/g;\n  var escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function() {},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function(callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n        .replace(optionalParam, '(?:$1)?')\n        .replace(namedParam, function(match, optional) {\n          return optional ? match : '([^/?]+)';\n        })\n        .replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    this.checkUrl = _.bind(this.checkUrl, this);\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Are we at the app root?\n    atRoot: function() {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n\n    // Does the pathname match the root?\n    matchRoot: function() {\n      var path = this.decodeFragment(this.location.pathname);\n      var root = path.slice(0, this.root.length - 1) + '/';\n      return root === this.root;\n    },\n\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function(fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function() {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the pathname and search params, without the root.\n    getPath: function() {\n      var path = this.decodeFragment(\n        this.location.pathname + this.getSearch()\n      ).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function(fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options = _.extend({\n        root: '/'\n      }, this.options, options);\n      this.root = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState = !!this.options.pushState;\n      this._hasPushState = !!(this.history && this.history.pushState);\n      this._usePushState = this._wantsPushState && this._hasPushState;\n      this.fragment = this.getFragment();\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var root = this.root.slice(0, -1) || '/';\n          this.location.replace(root + '#' + this.getPath());\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n          // Or if we've started out with a hash-based route, but we're currently\n          // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {\n            replace: true\n          });\n        }\n\n      }\n\n      // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body;\n        // Using `appendChild` will throw on IE < 9 if the document is not ready.\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      }\n\n      // Add a cross-platform `addEventListener` shim for older browsers.\n      var addEventListener = window.addEventListener || function(eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      };\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function(eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      };\n\n      // Remove window listeners.\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      }\n\n      // Clean up the iframe if necessary.\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      }\n\n      // Some environments will throw when clearing an undefined interval.\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({\n        route: route,\n        callback: callback\n      });\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n\n      // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {\n        trigger: !!options\n      };\n\n      // Normalize the fragment.\n      fragment = this.getFragment(fragment || '');\n\n      // Don't include a trailing slash on the root.\n      var root = this.root;\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        root = root.slice(0, -1) || '/';\n      }\n      var url = root + fragment;\n\n      // Strip the hash and decode for matching.\n      fragment = this.decodeFragment(fragment.replace(pathStripper, ''));\n\n      if (this.fragment === fragment) return;\n      this.fragment = fragment;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n        // If hash changes haven't been explicitly disabled, update the hash\n        // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && (fragment !== this.getHash(this.iframe.contentWindow))) {\n          var iWindow = this.iframe.contentWindow;\n\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        }\n\n        // If you've told us that you explicitly don't want fallback hashchange-\n        // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function() {\n        return parent.apply(this, arguments);\n      };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent` constructor function.\n    var Surrogate = function() {\n      this.constructor = child;\n    };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate;\n\n    // Add prototype properties (instance properties) to the subclass,\n    // if supplied.\n    if (protoProps) _.extend(child.prototype, protoProps);\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n\n}));\n\n/*!\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n\n\nvar Hogan = {};\n\n(function(Hogan) {\n  Hogan.Template = function(codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function(context, partials, indent) {\n      return '';\n    },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function(context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n        names = key.split('.'),\n        val = this.f(names[0], ctx, partials, returnFound),\n        doModelGet = this.options.modelGet,\n        cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n        v = null,\n        found = false,\n        doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) {\n      this.buf += s;\n    },\n\n    fl: function() {\n      var r = this.buf;\n      this.buf = '';\n      return r;\n    },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n        cx = ctx[ctx.length - 1],\n        result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n        // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {}; //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n    rLt = /</g,\n    rGt = />/g,\n    rApos = /\\'/g,\n    rQuot = /\\\"/g,\n    hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n      .replace(rAmp, '&amp;')\n      .replace(rLt, '&lt;')\n      .replace(rGt, '&gt;')\n      .replace(rApos, '&#39;')\n      .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n\n\n(function(Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n    rQuot = /\\\"/g,\n    rNewline = /\\n/g,\n    rCr = /\\r/g,\n    rSlash = /\\\\/g,\n    rLineSep = /\\u2028/,\n    rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1,\n    '^': 2,\n    '<': 3,\n    '$': 4,\n    '/': 5,\n    '!': 6,\n    '>': 7,\n    '=': 8,\n    '_v': 9,\n    '{': 10,\n    '&': 11,\n    '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n      IN_TEXT = 0,\n      IN_TAG_TYPE = 1,\n      IN_TAG = 2,\n      state = IN_TEXT,\n      tagType = null,\n      tag = null,\n      buf = '',\n      tokens = [],\n      seenTag = false,\n      i = 0,\n      lineStart = 0,\n      otag = '{{',\n      ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({\n          tag: '_t',\n          text: new String(buf)\n        });\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j + 1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({\n          tag: '\\n'\n        });\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n        closeIndex = text.indexOf(close, index),\n        delimiters = trim(\n          text.substring(text.indexOf('=', index) + 1, closeIndex)\n        ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({\n            tag: tagType,\n            n: trim(buf),\n            otag: otag,\n            ctag: ctag,\n            i: (tagType == '/') ? seenTag - otag.length : i + ctag.length\n          });\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {\n    '_t': true,\n    '\\n': true,\n    '$': true,\n    '/': true\n  };\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n      opener = null,\n      tail = null,\n      token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) + \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = {\n      code: '',\n      subs: {},\n      partials: {}\n    };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {\n      subs: {},\n      partials: codeObj.partials,\n      name: codeObj.name\n    };\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n      .replace(rQuot, '\\\\\\\"')\n      .replace(rNewline, '\\\\n')\n      .replace(rCr, '\\\\r')\n      .replace(rLineSep, '\\\\u2028')\n      .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {\n      name: node.n,\n      partials: {}\n    };\n    context.code += 't.b(t.rp(\"' + esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n        'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n        't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {\n        partials: {},\n        code: '',\n        subs: {},\n        inPartial: true\n      };\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {\n        subs: {},\n        code: '',\n        partials: context.partials,\n        prefix: node.n\n      };\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n"],"sourceRoot":"/source/"}